=====================
Model index reference
=====================

.. module:: django.db.models.indexes
   :synopsis: Built-in index types.

.. currentmodule:: django.db.models

.. versionadded:: 1.11

Index classes ease creating database indexes. This document explains the API
references of :class:`Index` This includes the `index options`_ and the
`built-in indexes`_ that Django offers.

.. note::

    Indexes are defined in ``django.db.models.indexes``, but for convenience
    they're imported into :mod:`django.db.models`. The standard convention is
    to use ``from django.db import models`` and refer to the indexes as
    ``models.<IndexClass>``.

``Index`` options
=================

.. class:: Index(*fields, **options)

``fields`` contains the names of the fields on which the index is desired.
``options`` allows ``model`` and ``name`` parameters.

``*fields``
-----------

.. attribute:: Index.fields

Index classes take the field names of which they are being used as arguments
directly during initialization.

``model``
---------

.. attribute:: Index.model

The model representing the table on which the index has to be set. This is an
optional argument.

``name``
--------

.. attribute:: Index.name

The name of the index. If ``name`` isn't provided Django will auto-generate a
name. For compatibility with different databases, index names cannot be longer
than 30 characters.

Built-in indexes
================

Django provides several built-in index classes:

``Index``
---------

.. class:: Index(*fields, **options)

    Creates an index (B-Tree) in the database.

Creating an index
=================

Indexes can be created in the database using the
:class:`~django.db.migrations.operations.AddIndex` operation. For example, to
add an index on the ``title`` and ``author`` fields of the ``Book`` model::

    from django.db import migrations

    class Migration(migrations.Migration):

        operations = [
            migrations.AddIndex(
                'Book',
                models.Index('title', 'author', name='my_index_name'),
            ),
        ]

Use the :class:`~django.db.migrations.operations.RemoveIndex` operation to
remove an index.
